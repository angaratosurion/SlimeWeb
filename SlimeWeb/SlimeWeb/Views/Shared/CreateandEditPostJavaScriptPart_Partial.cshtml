
@{
    @using SlimeWeb.Core.Managers.Markups;
        var cmsengine = SlimeWeb.Core.Managers.AppSettingsManager.GetAppWideCMSEngine();
    


    if (cmsengine == null)
    {
        <script src="~/lib/tinymce/tinymce.min.js" referrerpolicy="origin"></script>

        <script>
    tinymce.init({
        selector: '#content',
        plugins: 'bbcode code a11ychecker advcode casechange formatpainter linkchecker autolink lists checklist media mediaembed pageembed permanentpen powerpaste table advtable tinycomments tinymcespellchecker image imagetools',
        toolbar: 'a11ycheck addcomment showcomments casechange checklist code formatpainter pageembed permanentpen table link|image'
        , images_upload_url: '@ViewBag.pathbase/Posts/Upload/@(Context.Request.RouteValues["id"])',
        automatic_uploads: true,
        images_reuse_filename: true,
        //images_upload_base_path: '~/AppData/AppData/Temp/'
    })
        </script>

    }


    else
    {



        if (cmsengine == enumMarkupEngine.BBCODE.ToString())
        {

            <script src="~/lib/tinymce/tinymce.min.js" referrerpolicy="origin"></script>


            <script>
                tinymce.init({ selector: '#content',
        plugins: 'bbcode code a11ychecker advcode casechange formatpainter linkchecker autolink lists checklist media mediaembed pageembed permanentpen powerpaste table advtable tinycomments tinymcespellchecker image imagetools',
        toolbar: 'a11ycheck addcomment showcomments casechange checklist code formatpainter pageembed permanentpen table link|image'
        , images_upload_url: '@ViewBag.pathbase/Posts/Upload/@(Context.Request.RouteValues["id"])',
        automatic_uploads: true,
        images_reuse_filename: true,
        //images_upload_base_path: '~/AppData/AppData/Temp/'
    })
            </script>


        }
        else if (cmsengine == enumMarkupEngine.MARKDOWN.ToString())
        {

            <script src="~/lib/tinymce/tinymce.min.js" referrerpolicy="origin"></script>

            <script>
    tinymce.init({
        selector: '#content',
        plugins: ' code a11ychecker advcode casechange formatpainter linkchecker autolink lists checklist media mediaembed pageembed permanentpen powerpaste table advtable tinycomments tinymcespellchecker image imagetools',
        toolbar: 'a11ycheck addcomment showcomments casechange checklist code formatpainter pageembed permanentpen table link|image'
        , images_upload_url: '@ViewBag.pathbase/Posts/Upload/@(Context.Request.RouteValues["id"])',
        automatic_uploads: true,
        images_reuse_filename: true,
        //images_upload_base_path: '~/AppData/AppData/Temp/'
    })
            </script>

        }
        else if (cmsengine == enumMarkupEngine.QUIL.ToString())
        {
            <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
            <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
            <script>
                
               
                    var container = document.getElementById('editor');
                    var options = {
                        debug: 'info',
                        modules: {
                            //  toolbar: '#toolbar'
                        },
                        //placeholder: 'Compose an epic...',
                        // readOnly: true,
                        theme: 'snow'
                    };
                var editor = new Quill(container, options);
                editor.on('text-change', function (delta, oldDelta, source) {
                    //if (source == 'api') {
                    //    console.log("An API call triggered this change.");
                    //} else if (source == 'user') {
                    //    console.log("A user action triggered this change.");
                    //}
                    //var content = document.querySelector('input[name=content');
                    var content = document.querySelector('textarea[name=content');
                    // content.value = editor.getContents();
                    var deltaobject = editor.getContents();
                    var json = JSON.stringify(deltaobject);
                    content.value = json;
                });
                
                    //var form = document.querySelector('form');
                    //form.onsubmit = function () {
                    //    // Populate hidden form on submit
                    //    var content = document.querySelector('input[name=content');

                    //    content.value = editor.getContents();
                    //}


                    //var elementothide = document.getElementById('content');
                    $("#content").hide();
                
             
            </script>


            }
        }
    }




